{% macro doclist(cat, year, limit) %}
<ol>
	{%- for doc in cat[year] | top(limit) -%}
	<li><a href="{{ doc.url | siteurl }}"><time datetime="{{ doc.date | isodate }}">{{ doc.date | humandate }}</time></a>
	{%- endfor -%}
</ol>
{% endmacro %}

{% macro docarchive(cat) %}
{% for year, _ in cat %}
<h2>{{ year }}</h2>
{{ doclist(cat, year) }}
{% endfor %}
{% endmacro %}
